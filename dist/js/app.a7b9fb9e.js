(function(){"use strict";var t={9830:function(t,e,n){var o=n(9242),i=n(3396),r=n(7139);const l={ref:"canvas"},u=["onMousedown","onTouchstart"],a={id:"controls-row"},c={for:"text-for-curve"},s=(0,i.Uk)(" Enter text here: "),d={for:"lines-on"},f=(0,i.Uk)(" Guidelines visible "),v={for:"rotate-letters"},h=(0,i.Uk)(" Rotate letters ");function p(t,e,n,p,x,y){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",{id:"canvas-container",onMouseup:e[0]||(e[0]=(...e)=>t.dropAllPoints&&t.dropAllPoints(...e)),onMouseleave:e[1]||(e[1]=(...e)=>t.dropAllPoints&&t.dropAllPoints(...e)),onTouchend:e[2]||(e[2]=(...e)=>t.dropAllPoints&&t.dropAllPoints(...e)),onMousemove:e[3]||(e[3]=e=>t.movePoint(e)),onTouchmove:e[4]||(e[4]=e=>t.movePoint(e))},[(0,i._)("canvas",l,null,512),((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(t.points,((e,n)=>((0,i.wg)(),(0,i.iD)("div",{class:"control-point",key:n,style:(0,r.j5)(t.percentify(e)),onMousedown:n=>{t.dropAllPoints(),e.moving=!0},onTouchstart:n=>{t.dropAllPoints(),e.moving=!0}},null,44,u)))),128))],32),(0,i._)("div",a,[(0,i._)("label",c,[s,(0,i.wy)((0,i._)("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=e=>t.text=e),id:"text-for-curve"},null,512),[[o.nr,t.text]])]),(0,i._)("label",d,[(0,i.wy)((0,i._)("input",{type:"checkbox",id:"lines-on","onUpdate:modelValue":e[6]||(e[6]=e=>t.linesOn=e)},null,512),[[o.e8,t.linesOn]]),f]),(0,i._)("label",v,[(0,i.wy)((0,i._)("input",{type:"checkbox",id:"rotate-letters","onUpdate:modelValue":e[7]||(e[7]=e=>t.rotateLetters=e)},null,512),[[o.e8,t.rotateLetters]]),h]),(0,i._)("button",{onClick:e[8]||(e[8]=(...e)=>t.downloadPNG&&t.downloadPNG(...e))},"Download PNG")])],64)}var x=n(4870),y=n(5287);const g=20;function w(t,e,n,o,i,r,l){if(!t)return;const u=t.getContext("2d");if(u&&(u.clearRect(0,0,t.width,t.height),u.setLineDash([]),u.strokeStyle="black",u.lineWidth=2,e&&(u.beginPath(),u.moveTo(n.x,n.y),u.quadraticCurveTo(o.x,o.y,i.x,i.y),u.stroke(),u.strokeRect(n.x-g/2,n.y-g/2,g,g),u.strokeRect(o.x-g/2,o.y-g/2,g,g),u.strokeRect(i.x-g/2,i.y-g/2,g,g),u.setLineDash([5,5]),u.beginPath(),u.moveTo(n.x,n.y),u.lineTo(o.x,o.y),u.lineTo(i.x,i.y),u.stroke()),r)){const t=50;u.font=`${t}px LivvicBold`,u.textAlign="center";const e=Array.from(r);let a=e.map((t=>u.measureText(t).width)),c=a.reduce(((t,e)=>t+e));const s=new y.D(n,o,i),d=s.length(),f=c/d;u.font=`${Math.min(500,t/f)}px LivvicBold`,a=e.map((t=>u.measureText(t).width)),c=a.reduce(((t,e)=>t+e));let v=(d/2-c/2+a[0]/2)/d;for(let n=0;n<e.length;n++){const t=s.get(Math.min(v,1));if(l){const e=s.normal(Math.min(v,1));u.translate(t.x,t.y),u.rotate((e.x>0?-1:1)*Math.acos(e.y)),u.translate(-t.x,-t.y)}u.fillText(e[n],t.x,t.y),u.resetTransform(),n<e.length-1&&(v+=(a[n]/2+a[n+1]/2)/d)}}}const m=(0,i.aZ)({name:"App",setup(t){const e=(0,x.iH)(null),n=(0,x.iH)(""),o=(0,x.iH)(!0),r=(0,x.iH)(!0),l=(0,x.qj)([{x:0,y:0},{x:0,y:0},{x:0,y:0}]),u=(0,x.qj)({width:0,height:0}),a=Math.ceil(devicePixelRatio),c=()=>w(e.value,o.value,...l,n.value,r.value);(0,i.YP)([l,n,o,r],c),(0,i.bv)((()=>{if(!e.value)return;const t=Math.round(.9*window.innerWidth),n=Math.round(.8*window.innerHeight);u.height=e.value.height=n*a,u.width=e.value.width=t*a,e.value.style.width=t+"px",e.value.style.height=n+"px",l[0]={x:.25*u.width,y:.75*u.height},l[1]={x:.5*u.width,y:.25*u.height},l[2]={x:.75*u.width,y:.75*u.height}}));const s=t=>({left:t.x/u.width*100+"%",top:t.y/u.height*100+"%"});function d(t){const n=l.findIndex((t=>t.moving));if(-1==n)return;if(!e.value)return;const o=e.value.getBoundingClientRect();let i;t instanceof MouseEvent?i={x:t.clientX,y:t.clientY}:(t.preventDefault(),i={x:t.touches[0].clientX,y:t.touches[0].clientY});const r={x:(i.x-o.left)*a,y:(i.y-o.top)*a,moving:l[n].moving};l[n]=r}function f(){for(const t of l)t.moving=!1}function v(){if(!e.value)return;const t=o.value;o.value=!1,c(),e.value.toBlob((e=>{if(o.value=t,!e)return;const n=URL.createObjectURL(e),i=document.createElement("a");i.download="curve.png",i.href=n,i.click()}),"png")}return{canvas:e,text:n,points:l,percentify:s,nativeRes:u,rect:g/devicePixelRatio,movePoint:d,dropAllPoints:f,linesOn:o,rotateLetters:r,downloadPNG:v}}}),b=()=>{(0,o.sj)((t=>({ad4faf62:t.rect+"px"})))},P=m.setup;m.setup=P?(t,e)=>(b(),P(t,e)):b;var k=m,O=n(89);const T=(0,O.Z)(k,[["render",p]]);var M=T;(0,o.ri)(M).mount("#app")}},e={};function n(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return t[o](r,r.exports,n),r.exports}n.m=t,function(){var t=[];n.O=function(e,o,i,r){if(!o){var l=1/0;for(s=0;s<t.length;s++){o=t[s][0],i=t[s][1],r=t[s][2];for(var u=!0,a=0;a<o.length;a++)(!1&r||l>=r)&&Object.keys(n.O).every((function(t){return n.O[t](o[a])}))?o.splice(a--,1):(u=!1,r<l&&(l=r));if(u){t.splice(s--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var s=t.length;s>0&&t[s-1][2]>r;s--)t[s]=t[s-1];t[s]=[o,i,r]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var o in e)n.o(e,o)&&!n.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:e[o]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,o){var i,r,l=o[0],u=o[1],a=o[2],c=0;if(l.some((function(e){return 0!==t[e]}))){for(i in u)n.o(u,i)&&(n.m[i]=u[i]);if(a)var s=a(n)}for(e&&e(o);c<l.length;c++)r=l[c],n.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return n.O(s)},o=self["webpackChunkv_arcs"]=self["webpackChunkv_arcs"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=n.O(void 0,[998],(function(){return n(9830)}));o=n.O(o)})();
//# sourceMappingURL=app.a7b9fb9e.js.map